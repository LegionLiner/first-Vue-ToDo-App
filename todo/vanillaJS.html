<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Заметки</title>
    <link rel="stylesheet" href="todo.css">
  </head>
  <body>
    <div id="toDoApp">
      <input type="text" placeholder="Добавьте заметку" class="textarea" value="">
      <div class="centerButtons">
        <button onclick="addTodo()">Добавить</button>
        <button onclick="deleteAll()">Удалить всё</button>
      </div>
      <div class="display" id="display">
        <h3>Заметок нет</h3>
        <ol id="ol">
        </ol>
      </div>
    </div>
    <script type="text/javascript">
      let position = 0;

      function addTodo() {
        let lastText = document.querySelector(".textarea");
        if (lastText.value) {
          let li = document.createElement('li');
          li.className = "a" + position + "a";
          li.id = "a" + position + "a";
          li.innerHTML = lastText.value + '<span class="todoButtons"> <button class="todoButton"> ✔ </button> <button onclick="deleteTodo(this)" class="todoButton delete a' + position + 'a"><img src="img/musorka.png"/> </span>';
          position++;
          ol.append(li);
          lastText.value = "";
        }
      };
      function deleteAll() {
          ol.remove();
          position = 0;
          setTimeout(() => {
            let ol = document.createElement('ol');
            ol.id = "ol";
            display.append(ol)
          }, 1)
      };
      function deleteTodo(el) {
        console.log(el.className.split(" ")[2]);
        let thisEl = el.className.split(" ")[2];
        el.className.split(" ")[2].remove();
        position--;
      }
    </script>
  </body>
</html>
